<% @gists.each do |gist| %>
 <%= render 'gists/gist_card', gist: gist %>
<% end %>

<% content_for(:js) do %>
  <%= javascript_tag do %>
    $(function(){
      var editor;

      $('.code').each( function(index) {
        editor = ace.edit(this);
        editor.setReadOnly(true);

        var language = $(this).prev().attr('class');
        console.log(language);

        editor.setTheme("ace/theme/chrome");
        editor.getSession().setMode("ace/mode/" + language);

        editor.setOptions({
          maxLines: 5
        });
      });
    });
  <% end %>
<% end %>
